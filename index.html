
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Trivo Store</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #fafafa; }
    h1 { color: #9333ea; }
    .seccion { margin-bottom: 20px; }
    .diagnostico { white-space: pre-wrap; background: #eee; padding: 10px; }
  </style>
</head>
<body>
  <h1>üì¶ Trivo Store</h1>

  <div class="seccion">
    <p id="conexion">üîÑ Verificando conexi√≥n...</p>
    <p id="productos">üõí Cargando productos...</p>
  </div>

  <div class="seccion">
    <strong>üîê Panel Privado (Contrase√±a: trivo2025):</strong><br>
    <input type="password" id="clave" placeholder="Introduce la contrase√±a">
    <button onclick="verificarClave()">Entrar</button>
    <div id="zonaPrivada" style="display:none; margin-top:10px;">
      <p>‚úÖ Acceso concedido. Aqu√≠ va tu panel privado.</p>
    </div>
  </div>

  <div class="seccion">
    <strong>üß™ Diagn√≥stico T√©cnico:</strong>
    <div class="diagnostico" id="diagnostico">‚è≥ Iniciando diagn√≥stico...</div>
  </div>

<script type="module">
  const supabaseUrl = 'https://uzqmsbkjontizhovxajx.supabase.co';
  const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV6cW1zYmtqb250aXpob3h2YWp4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzMDY1NjYsImV4cCI6MjA2Mzg4MjU2Nn0.RtiBzB0k0qzFzsfgUZcIvW1eyu2VmVbEolCWQDkDwbU';
  const tableName = 'mercancilla';

  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';
  const supabase = createClient(supabaseUrl, supabaseKey);

  // Diagn√≥stico
  const diagnostico = document.getElementById('diagnostico');
  try {
    diagnostico.innerText = 'üîå Conectando a Supabase...';
    const { data, error } = await supabase.from(tableName).select('*').limit(1);
    if (error) throw error;
    diagnostico.innerText = '‚úÖ Conexi√≥n a Supabase exitosa.
' + JSON.stringify(data, null, 2);
    document.getElementById('conexion').innerText = '‚úÖ Conexi√≥n verificada.';
    document.getElementById('productos').innerText = '‚úÖ Productos cargados.';
  } catch (err) {
    diagnostico.innerText = '‚ùå Error al conectar con Supabase:
' + err.message;
  }

  // Panel privado
  function verificarClave() {
    const clave = document.getElementById('clave').value;
    if (clave === 'trivo2025') {
      document.getElementById('zonaPrivada').style.display = 'block';
    } else {
      alert('Contrase√±a incorrecta');
    }
  }

  window.verificarClave = verificarClave;
</script>
</body>
</html>
